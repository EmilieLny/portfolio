---
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import LayoutDescription from "../layouts/LayoutDescription.astro";

// years experience
const currentTime = new Date().getTime();
const startingTime = new Date("10-01-2018").getTime();
const yearsExperience =
  new Date(currentTime - startingTime).getUTCFullYear() - 1970;
---

<LayoutDescription>
  <div
    id="img-experience"
    style={{ "--image-url": "url(/assets/default.png)" }}
    class=`bg-no-repeat bg-center bg-cover bg-[image:var(--image-url)]`
  >
  </div>
  <div class="flex flex-col justify-center items-start p-10">
    <div class="animate-fadeIn">
      <h1 class="inline-block text-3xl">Hi</h1>
      <span class="inline-block animate-wave text-3xl">ðŸ‘‹</span>
      <h1 class="inline text-3xl">
        , I'm Emilie a Software Engineer with {yearsExperience} years experience
        working in <Link id="checkpoint">corporate</Link> and <Link
          id="eightfig">startup</Link
        > . I love creating and <Link id="bootcamp">sharing</Link> my knowledge!
      </h1>
    </div>
    <div class="animate-fadeIn">
      <Button variant="ghost" class="px-2.5">CV</Button>
      // GIT
      <Button variant="ghost" class="px-2.5">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="14px"
          height="14px"
          viewBox="0 0 14 14"
          version="1.1"
        >
          <g id="surface1">
            <path
              style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;"
              d="M 7 1.3125 C 3.859375 1.3125 1.3125 3.859375 1.3125 7 C 1.3125 9.6875 3.175781 11.933594 5.675781 12.53125 C 5.546875 12.5 5.417969 12.464844 5.292969 12.425781 L 5.292969 11.125 C 5.292969 11.125 5.082031 11.195312 4.796875 11.195312 C 4 11.195312 3.671875 10.484375 3.585938 10.128906 C 3.539062 9.910156 3.40625 9.703125 3.265625 9.578125 C 3.097656 9.429688 3.019531 9.429688 3.019531 9.378906 C 3.015625 9.269531 3.164062 9.273438 3.230469 9.273438 C 3.585938 9.273438 3.855469 9.652344 3.980469 9.847656 C 4.292969 10.332031 4.625 10.414062 4.796875 10.414062 C 5.007812 10.414062 5.195312 10.378906 5.320312 10.320312 C 5.378906 9.90625 5.5625 9.539062 5.863281 9.273438 C 4.527344 9.007812 3.585938 8.242188 3.585938 7 C 3.585938 6.359375 3.84375 5.769531 4.273438 5.296875 C 4.230469 5.171875 4.15625 4.921875 4.15625 4.511719 C 4.15625 4.242188 4.175781 3.910156 4.296875 3.585938 C 4.296875 3.585938 5.109375 3.59375 5.875 4.316406 C 6.226562 4.214844 6.605469 4.15625 7 4.15625 C 7.394531 4.15625 7.773438 4.214844 8.125 4.316406 C 8.890625 3.59375 9.703125 3.585938 9.703125 3.585938 C 9.824219 3.910156 9.84375 4.242188 9.84375 4.511719 C 9.84375 4.953125 9.785156 5.210938 9.75 5.320312 C 10.164062 5.792969 10.414062 6.371094 10.414062 7 C 10.414062 8.242188 9.472656 9.007812 8.136719 9.273438 C 8.492188 9.585938 8.707031 10.042969 8.707031 10.554688 L 8.707031 12.425781 C 8.582031 12.464844 8.453125 12.5 8.324219 12.53125 C 10.824219 11.933594 12.6875 9.6875 12.6875 7 C 12.6875 3.859375 10.140625 1.3125 7 1.3125 Z M 7.398438 12.671875 C 7.265625 12.679688 7.132812 12.6875 7 12.6875 C 7.132812 12.6875 7.265625 12.679688 7.398438 12.671875 Z M 8.265625 12.542969 C 8.011719 12.601562 7.75 12.644531 7.484375 12.664062 C 7.75 12.644531 8.011719 12.601562 8.265625 12.542969 Z M 7 12.6875 C 6.867188 12.6875 6.734375 12.679688 6.601562 12.671875 C 6.734375 12.679688 6.867188 12.6875 7 12.6875 Z M 6.515625 12.664062 C 6.25 12.644531 5.988281 12.601562 5.734375 12.542969 C 5.988281 12.601562 6.25 12.644531 6.515625 12.664062 Z M 6.515625 12.664062 "
            ></path>
          </g>
        </svg>
      </Button>
      // LinkedIn
      <Button variant="ghost" class="px-2.5">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="14px"
          height="14px"
          viewBox="0 0 14 14"
          version="1.1"
        >
          <g id="surface1">
            <path
              style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;"
              d="M 2.238281 0.84375 C 1.269531 0.84375 0.5625 1.425781 0.5625 2.226562 C 0.5625 3.03125 1.285156 3.636719 2.238281 3.636719 C 3.210938 3.636719 3.917969 3.042969 3.917969 2.210938 C 3.871094 1.40625 3.179688 0.84375 2.238281 0.84375 Z M 0.839844 4.199219 C 0.6875 4.199219 0.558594 4.324219 0.558594 4.480469 L 0.558594 12.601562 C 0.558594 12.753906 0.6875 12.878906 0.839844 12.878906 L 3.640625 12.878906 C 3.792969 12.878906 3.921875 12.753906 3.921875 12.601562 L 3.921875 4.480469 C 3.921875 4.324219 3.792969 4.199219 3.640625 4.199219 Z M 5.039062 4.199219 C 4.886719 4.199219 4.761719 4.324219 4.761719 4.480469 L 4.761719 12.601562 C 4.761719 12.753906 4.886719 12.878906 5.039062 12.878906 L 7.558594 12.878906 C 7.714844 12.878906 7.839844 12.753906 7.839844 12.601562 L 7.839844 8.261719 C 7.839844 7.597656 8.351562 7.054688 9 7.003906 C 9.03125 7 9.066406 7 9.101562 7 C 9.132812 7 9.167969 7 9.199219 7.003906 C 9.851562 7.054688 10.359375 7.597656 10.359375 8.261719 L 10.359375 12.601562 C 10.359375 12.753906 10.484375 12.878906 10.640625 12.878906 L 13.160156 12.878906 C 13.3125 12.878906 13.441406 12.753906 13.441406 12.601562 L 13.441406 7.839844 C 13.441406 6.027344 12.46875 4.199219 10.300781 4.199219 C 9.316406 4.199219 8.570312 4.582031 8.121094 4.898438 L 8.121094 4.480469 C 8.121094 4.324219 7.992188 4.199219 7.839844 4.199219 Z M 5.039062 4.199219 "
            ></path>
          </g>
        </svg>
      </Button>
    </div>
  </div>
</LayoutDescription>

<script>
  const onResetImage = () => {
    const imgExp = document.querySelector("#img-experience") as HTMLElement;
    imgExp.setAttribute("alt", "Experience default");
    imgExp.style.cssText = "--image-url: url('/assets/default.png')";
  };
  const onHoverBootcamp = () => {
    const imgExp = document.querySelector("#img-experience") as HTMLElement;
    imgExp.setAttribute("alt", "Experience bootcamp");
    imgExp.style.cssText = "--image-url: url('/assets/bootcamp.png')";
  };

  const onHoverCheckpoint = () => {
    const imgExp = document.querySelector("#img-experience") as HTMLElement;
    imgExp.setAttribute("alt", "Experience checkpoint");
    imgExp.style.cssText = "--image-url: url('/assets/checkpoint.png')";
  };

  const onHover8fig = () => {
    const imgExp = document.querySelector("#img-experience") as HTMLElement;
    imgExp.setAttribute("alt", "Experience 8fig");
    imgExp.style.cssText = "--image-url: url('/assets/8fig.jpg')";
  };

  const bootcampLink = window.document.querySelector("[data-link]#bootcamp");
  bootcampLink?.addEventListener("mouseover", onHoverBootcamp);
  bootcampLink?.addEventListener("mouseout", onResetImage);

  const checkpointLink = window.document.querySelector(
    "[data-link]#checkpoint"
  );
  checkpointLink?.addEventListener("mouseover", onHoverCheckpoint);
  checkpointLink?.addEventListener("mouseout", onResetImage);

  const eightfigLink = window.document.querySelector("[data-link]#eightfig");
  eightfigLink?.addEventListener("mouseover", onHover8fig);
  eightfigLink?.addEventListener("mouseout", onResetImage);
</script>
